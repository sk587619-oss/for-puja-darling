<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For My Puja ‚ù§Ô∏è</title>
    <style>
        * { box-sizing: border-box; }
        body { 
            text-align: center; 
            font-family: 'Arial', sans-serif; 
            background: #fff5f7; 
            margin: 0; padding: 0;
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            height: 100vh; width: 100vw;
            overflow: hidden; /* Prevents mobile scrolling */
        }
        #container { 
            background: white; padding: 15px; border-radius: 20px; 
            box-shadow: 0 10px 30px rgba(255, 0, 100, 0.1); 
            width: 92%; max-width: 400px; 
            position: relative; z-index: 5; /* Lower than roses */
        }
        #img-wrapper { 
            position: relative; height: 60vh; width: 100%; 
            margin-top: 10px; background: #000; border-radius: 10px; overflow: hidden;
        }
        img { 
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; 
            object-fit: contain; opacity: 0; transition: opacity 1s ease-in-out; 
        }
        img.active { opacity: 1; }
        .btn { padding: 12px 25px; font-size: 18px; cursor: pointer; border-radius: 50px; border: none; margin: 8px; font-weight: bold; }
        #yesBtn { background-color: #ff4d6d; color: white; width: 80%; }
        #noBtn { background-color: #f8bbd0; color: #ad1457; position: absolute; z-index: 10; }
        #gallery-stage { display: none; width: 100%; }
        .nav-btn { background-color: #d63384; color: white; width: 90%; margin-top: 15px; }

        /* Rose Rain Animation - IN FRONT */
        .rose {
            position: fixed; top: -20px;
            font-size: 24px; 
            z-index: 9999; /* Highest z-index to fall in front of EVERYTHING */
            user-select: none; pointer-events: none;
            animation: fall linear forwards;
        }
        @keyframes fall {
            to { transform: translateY(110vh) rotate(360deg); }
        }
    </style>
</head>
<body>

<audio id="bgMusic" loop>
    <source src="https://www.dropbox.com/scl/fi/zpjhs7e4k2xotqd6yrrr4/WhatsApp-Audio-2026-02-17-at-12.59.13-PM.mpeg?rlkey=s7565i57bvcv10ieo95q6mv4g&st=uc28vn9z&dl=1" type="audio/mpeg">
</audio>

<div id="container">
    <div id="question-stage">
        <h1 style="color: #d63384; font-size: 22px;">Puja, will you be mine forever? ‚ù§Ô∏è</h1>
        <button id="yesBtn" class="btn" onclick="startExperience()">YES</button>
        <button id="noBtn" class="btn">NO</button>
    </div>

    <div id="gallery-stage">
        <h2 id="gallery-text" style="color: #ff4d6d; margin: 5px; font-size: 20px;">Memories with You ü•∞</h2>
        <div id="img-wrapper"></div>
        <button class="btn nav-btn" onclick="nextImage()">Next Memory ‚û°Ô∏è</button>
        <p id="counter" style="color: #888; font-size: 14px; margin: 8px;">1 / 10</p>
    </div>
</div>

<script>
    const images = [
        "https://i.ibb.co/7xyZtLn3/Whats-App-Image-2026-02-14-at-6-26-59-PM.jpg",
        "https://i.ibb.co/N6yt54Qp/Whats-App-Image-2026-02-14-at-6-26-57-PM.jpg",
        "https://i.ibb.co/KjQjS7n7/Whats-App-Image-2026-02-14-at-6-26-26-PM.jpg",
        "https://i.ibb.co/N6TXPC3H/Whats-App-Image-2026-02-14-at-6-26-24-PM.jpg",
        "https://i.ibb.co/zjtdZhy/Whats-App-Image-2026-02-14-at-6-26-21-PM.jpg",
        "https://i.ibb.co/rfRWCryQ/Whats-App-Image-2026-02-14-at-6-26-06-PM.jpg",
        "https://i.ibb.co/q31PVq0v/Whats-App-Image-2026-02-14-at-6-24-08-PM.jpg",
        "https://i.ibb.co/jkZPzc6t/Whats-App-Image-2026-02-14-at-6-24-07-PM.jpg",
        "https://i.ibb.co/ccmmqfL7/Whats-App-Image-2026-02-14-at-6-21-49-PM.jpg",
        "https://i.ibb.co/0yW502qh/Whats-App-Image-2026-02-14-at-6-20-55-PM.jpg"
    ];

    let currentIndex = 0;
    const wrapper = document.getElementById('img-wrapper');
    const bgMusic = document.getElementById('bgMusic');

    images.forEach((src, index) => {
        const img = document.createElement('img');
        img.src = src;
        if (index === 0) img.classList.add('active');
        wrapper.appendChild(img);
    });

    const moveButton = () => {
        const noBtn = document.getElementById('noBtn');
        const x = Math.random() * (window.innerWidth - noBtn.offsetWidth - 20);
        const y = Math.random() * (window.innerHeight - noBtn.offsetHeight - 20);
        noBtn.style.left = `${x}px`;
        noBtn.style.top = `${y}px`;
    };

    document.getElementById('noBtn').addEventListener('touchstart', (e) => { e.preventDefault(); moveButton(); });
    document.getElementById('noBtn').addEventListener('mouseover', moveButton);

    function startExperience() {
        document.getElementById('question-stage').style.display = 'none';
        document.getElementById('gallery-stage').style.display = 'block';
        bgMusic.play();
        createRoseRain();
    }

    function createRoseRain() {
        setInterval(() => {
            const rose = document.createElement('div');
            rose.classList.add('rose');
            rose.innerText = 'üåπ';
            rose.style.left = Math.random() * 100 + 'vw';
            rose.style.animationDuration = Math.random() * 2 + 3 + 's';
            document.body.appendChild(rose);
            setTimeout(() => rose.remove(), 5000);
        }, 250);
    }

    function nextImage() {
        const imgs = wrapper.getElementsByTagName('img');
        imgs[currentIndex].classList.remove('active');
        currentIndex = (currentIndex + 1) % images.length;
        imgs[currentIndex].classList.add('active');
        document.getElementById('counter').innerText = `${currentIndex + 1} / 10`;
    }
</script>
</body>
</html>